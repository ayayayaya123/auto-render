## JSON 动态页面参数对照表

#### 1.概述

此文档是动态页面 JSON 参数说明文档，作为本项目动态页面对接的标准依据。

#### 2. 组件列表

- 页面跳转组件(tag: navigation; tagSize: medium; tagLayout: row|tab)
- 动态表单组件(tag: autoform; )
- 动态列表组件(tag: autolist; )

#### 3. JSON 主要配置说明

##### 3.1 根结构

| 属性          | 说明                                | 默认值   |
| ------------- | ----------------------------------- | -------- |
| id            | 设计布局数据索引ID                   | 0       |
| version       | 版本号                              | "1"      |
| code          | HTTP Business Code                 | "000000" |
| name          | 页面名称(显示为页面标题)             |        |
| designPattern | 设计模型数据 (encoded base64)       |       |
| designModel   | 设计模型数据                        | {}       |


##### 3.2 `designModel` 组件配置
> `designPattern` 为基于`base64`加密的字符串，可decode为`designModel`

| 属性          | 说明                                | 默认值   |
| ------------- | ----------------------------------- | -------- |
| pageStyle     | 页面背景 (包括 backgroud 等)         | {} |
| container     | 各组件外层统一容器风格                |  {}     |
| dataSource    | 业务数据源                           | {}      |
| modules       | 页面组件集合                         | []       |
| moduleData    | 页面组件配置参数                     | {}       |
| moduleDataSource | 页面组件数据源                    | "https://"  |

##### 3.3 `modules` 列表项组件配置
| 属性            | 说明                       | 默认值 |
| --------------- | --------------------------| ------ |
| container       | 个性化组件外层容器风格      |  {}   |
| type            | 组件类型                   |       |
| key             | 组件Key                    | uuid  |
| tips            | 组件说明提示               |       |

##### 3.4 `dataSource` 响应字段
| 属性            | 说明                       | 默认值 |
| --------------- | --------------------------| ------ |
| api            | 业务数据源                  | "http://" |
| response       | 组件外层容器风格            |  {}  |

##### 3.5 `dataSource.response` 响应字段
| 属性            | 说明                       | 默认值 |
| --------------- | --------------------------| ------ |
| data            | 组件说明提示               | "data"  |
| list           | 组件外层容器风格            |  "items" |
| total           | 组件类型                   | "total" |

##### 3.6 `container`

| 属性         | 类型      | 说明              |
| ----------- | --------- | ----------------- |
| padding      | Style    | 内距              |
| margin       | Style    | 外边距            |
| fill         | Style    | 背景色            |
| stroke.color | Style    | 描边颜色          |
| stroke.lineWidth    | Style    |     描边线宽 |
| shadow.radius| Style    | 阴影大小 |
| shadow.color | Style    | 阴影颜色 |
| shadow.x     | Style    | 阴影位置 |
| shadow.y     | Style    | 阴影位置  |
| circle       | overlay  | 叠加圆形效果 |
| corner       | overlay  | 叠加圆角效果 |
| alignment    | Layout   | 对齐方式 |
| orientation  | Layout   | 排列方向 |
| justify      | Layout   | 子项对齐方式 |
| span         | Layout   | 子项跨度 |
| spacing      | Layout   | 子项间隔 |
| color        | Text     | 字体颜色 |
| font         | Text     | 字体     |
| lineLimit    | Text     | 字体长度限制 |
| multilineTextAlignment | Text | 多行字体对齐方式 |


#### 4. JSON 测试数据

##### request.json
```json
{
  "id": 0,
  "version": "1",
  "code": "1622773094601_68534",
  "name":"场馆资讯",
  "designPattern": "base64EncodedXXX==",
  "designModel": {}
}
```

##### designModel.json (designPattern)
> `designPattern` 为基于 `base64` 加密的字符串，可decode为 `designModel`

```json
{  
    "pageStyle": {},
    "dataSource":
    {
      "api": "",
      "response":
      {
        "list": "type.list",
        "total": "type.total"
      }
    },
    "container":{
      "padding": "10px",
      "margin": "10px",
      "fill": "white",
      "stroke": 
      {
         "color": "lightgray",
         "lineWidth": "1px",
      },
      "shadow":
      {
         "radius": 5,
      },
      "corner": "8px",
      "spacing": "1em"
   },
  "modules": [
    {
      "container":{
      },
      "type": "autolist",
      "key": "5243e64e-40ca-8b50-cdce-1623039409345",
      "tips": "动态列表组件",
    },
    {
      "container":{},
      "type": "autoform",
      "key": "96afd71a-c8d5-11eb-aca5-0800271e55b7",
      "tips": "动态表单组件"
    }
  ], 
  "moduleDataSource": "https://www.fastmock.site/mock/96df3206fe/api/pub/auto",
  "moduleData":
    {
        "5243e64e-40ca-8b50-cdce-1623039409345":
        {
            "loadApi": "https://www.fastmock.site/mock/96df9e8fb08bfe844b3e565f5a3206fe/test/api/pub/getList",
            "tabConfig":
            {
              "field":"type",
              "show": true,
              "list":[
                  {
                      "name":"全部",
                      "value":"0"
                  },
                  {
                      "name":"时尚搭配",
                      "value":"100"
                  },
                  {
                    "name":"行业咨询",
                    "value":"200"
                  }
              ]
            },
            "response":
            {
                "list":"type.list",
                "total":"type.total"
            },
            "request":
            {
              "fixed":"type",
              "default":
                {
                  "type":"0"
                },
              "pn":"pageNo",
              "ps":"pageSize"
            },
            "modules":
            [
                {
                    "type":"custom_component",
                    "name":"自定义组件",
                    "key":"5243e64e-40ca-8b50-cdce-1623039409345"
                }
            ],
            "moduleData":
            {
                "5243e64e-40ca-8b50-cdce-1623039409345":
                {
                    "id":"5243e64e-40ca-8b50-cdce-1623039409345",
                    "name":"ArticleItem"
                }
            }
        }
    }
}
```